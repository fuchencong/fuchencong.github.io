<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/fuchencong.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/fuchencong.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/fuchencong.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/fuchencong.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/fuchencong.github.io/css/main.css">


<link rel="stylesheet" href="/fuchencong.github.io/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"fuchencong.github.io","root":"/fuchencong.github.io/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="这篇文章继续介绍 Vim 插入模式以及可视模式下的实用技巧。">
<meta property="og:type" content="article">
<meta property="og:title" content="Vim 实用技巧（01）：插入模式 &amp; 可视模式">
<meta property="og:url" content="https://fuchencong.github.io/fuchencong.github.io/2018/10/02/practical-vim-02/index.html">
<meta property="og:site_name" content="fuchencong">
<meta property="og:description" content="这篇文章继续介绍 Vim 插入模式以及可视模式下的实用技巧。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-10-02T07:00:52.000Z">
<meta property="article:modified_time" content="2023-10-07T02:23:23.237Z">
<meta property="article:author" content="fuchencong">
<meta property="article:tag" content="Vim">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://fuchencong.github.io/fuchencong.github.io/2018/10/02/practical-vim-02/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Vim 实用技巧（01）：插入模式 & 可视模式 | fuchencong</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/fuchencong.github.io/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">fuchencong</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">The way I am</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/fuchencong.github.io/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/fuchencong.github.io/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/fuchencong.github.io/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/fuchencong.github.io/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/fuchencong.github.io/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fuchencong.github.io/fuchencong.github.io/2018/10/02/practical-vim-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/fuchencong.github.io/images/logo.jpeg">
      <meta itemprop="name" content="fuchencong">
      <meta itemprop="description" content="Having dreams is what makes life tolerable.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fuchencong">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vim 实用技巧（01）：插入模式 & 可视模式
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-10-02 15:00:52" itemprop="dateCreated datePublished" datetime="2018-10-02T15:00:52+08:00">2018-10-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/fuchencong.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">开发工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>这篇文章继续介绍 Vim 插入模式以及可视模式下的实用技巧。</p>
<span id="more"></span>

<h2 id="插入模式"><a href="#插入模式" class="headerlink" title="插入模式"></a>插入模式</h2><h3 id="技巧-13：在插入模式中可即时更正错误"><a href="#技巧-13：在插入模式中可即时更正错误" class="headerlink" title="技巧 13：在插入模式中可即时更正错误"></a>技巧 13：在插入模式中可即时更正错误</h3><p>在输入错误时，可以用退格键删除错误的文本，然后在输入正确的内容。另外你也可以切换到普通模式，进行错误修正，然后在返回原来的位置。</p>
<p>虽然说我们可以切换模式，不过这并不意味着一定就得切换。在插入模式下，我们还可以用下面这些组合键：</p>
<ul>
<li><code>&lt;Ctrl-h&gt;</code>：删除前一个字符（同退格键）</li>
<li><code>&lt;Ctrl-w&gt;</code>：删除前一个单词</li>
<li><code>&lt;Ctrl-u&gt;</code>：删至行首</li>
</ul>
<p>这些命令不是插入模式所独有的，甚至也不是 Vim 所独有的。在 Vim 的命令行模式中，以及在 bash shell 中，也可以使用它们。</p>
<h3 id="技巧-14：返回普通模式"><a href="#技巧-14：返回普通模式" class="headerlink" title="技巧 14：返回普通模式"></a>技巧 14：返回普通模式</h3><p>切换回普通模式的经典方式是使用 <code>&lt;ESC&gt;</code> 键，但在许多键盘上这个键的距离似乎有点远。作为替代，我们也可以使用 <code>&lt;Ctrl-[&gt;</code>，它的效果与 <code>&lt;ESC&gt;</code> 完全相同。</p>
<ul>
<li><code>&lt;ESC&gt;</code>：切换到普通模式</li>
<li><code>&lt;Ctrl-[&gt;</code>：切换到普通模式</li>
<li><code>&lt;Ctrl-o&gt;</code>：切换到插入-普通模式</li>
</ul>
<p>当我们处于插入模式时，想运行一个普通模式命令，然后马上回到原来的位置继续输入。Vim 为此提供了一种巧妙的方法，以减少模式切换所带来的不畅。这就是 <code>插入-普通模式</code>：<code>插入-普通模式</code> 是普通模式的一个特例，它能让我们执行一次普通模式命令，执行完后，马上就又返回到插入模式。要从插入模式切换到 <code>插入-普通模式</code>，可以按 <code>&lt;Ctrl-o&gt;</code>。</p>
<h3 id="技巧-15：不离开插入模式，粘贴寄存器中的文本"><a href="#技巧-15：不离开插入模式，粘贴寄存器中的文本" class="headerlink" title="技巧 15：不离开插入模式，粘贴寄存器中的文本"></a>技巧 15：不离开插入模式，粘贴寄存器中的文本</h3><p>Vim 的复制和粘贴操作一般在普通模式中执行。在插入模式中，粘贴寄存器中的文本的方法是 <code>&lt;Ctrl-r&gt;&#123;register&#125;</code>，其中 <code>&#123;register&#125;</code> 是寄存器的名字。</p>
<p>Vim 在插入寄存器中的文本时，其插入方式就如同这些文本是由键盘上一个个输进来的。因此，如果 <code>textwidth</code> 或 <code>autoindent</code> 选项被激活了的话，那么就可能会出现不必要的换行或额外的缩进。<code>&lt;Ctrl-r&gt;&lt;Ctrl-p&gt;&#123;register&#125;</code> 命令则会更加智能一些，它会按原义插入寄存器内的文本，并修正任何不必要的缩进。</p>
<h3 id="技巧-16：随时随地做运算"><a href="#技巧-16：随时随地做运算" class="headerlink" title="技巧 16：随时随地做运算"></a>技巧 16：随时随地做运算</h3><p>大部分 Vim 寄存器中保存的都是文本，不过表达式寄存器则是一个另类。它可以用来执行一段 Vim 脚本，并返回其结果。在这里，我们将把它当成计算器来用。可以使用 <code>=</code> 符号指明使用表达式寄存器。在插入模式中，输入 <code>&lt;Ctrl-r&gt;=</code> 就可以访问这一寄存器。</p>
<p>如下所示，我们要计算该算术运算的结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">the result of 111 * 111 is =</span><br></pre></td></tr></table></figure>

<p>输入 <code>&lt;Ctrl-r&gt;=</code>，之后屏幕下方就会出现 <code>=</code> 提示符，输入 <code>111 * 111</code>，按下回车键，计算结果就会直接插入文本中。</p>
<p>表达式寄存器远不止能做简单算术运算，以后还将看到一些更高级的应用。</p>
<h3 id="技巧-17：用字符编码插入非常用字符"><a href="#技巧-17：用字符编码插入非常用字符" class="headerlink" title="技巧 17：用字符编码插入非常用字符"></a>技巧 17：用字符编码插入非常用字符</h3><p>只要知道某个字符的编码，就可以让 Vim 插入该字符，我们可以用这种方式插入任意字符，包括那些在键盘上找不到的符号。</p>
<p>要根据字符编码插入字符，只需在插入模式中输入 <code>&lt;Ctrl-v&gt;&#123;code&#125;</code> 即可。其中 <code>&#123;code&#125;</code> 是要插入字符的编码，vim所接受的字符编码共包含 3 位数字（十进制，不足 3 位补充 0）。对于 Unicode 字符，可以用 4 位十六进制编码来输入这些字符，即输入 <code>&lt;Ctrl-v&gt;u&#123;code&#125;</code>。</p>
<p>如果想知道文档中任意字符的编码，只需把光标移到它上面并按 <code>ga</code> 命令。</p>
<p>另外，如果 <code>&lt;Ctrl-v&gt;</code> 命令后面跟一个非数字键，它会插入这个按键本身所代表的字符。例如，如果启用了 <code>expandtab</code> 选项，那么按 <code>&lt;tab&gt;</code> 键将会插入空格而不是制表符。然而，按 <code>&lt;Ctrl-v&gt;&lt;tab&gt;</code> 则会一直插入制表符，不管 <code>expandtab</code> 选项激活与否。</p>
<h3 id="技巧-18：用二合字母插入非常用字符"><a href="#技巧-18：用二合字母插入非常用字符" class="headerlink" title="技巧 18：用二合字母插入非常用字符"></a>技巧 18：用二合字母插入非常用字符</h3><p>虽然可以使用数字编码插入任意字符，但是这种方式难以记忆。二合字母用起来很方便，在插入模式中，只需输入 <code>&lt;Ctrl-k&gt;&#123;char1&#125;&#123;char2&#125;</code> 即可。Vim在选择组成二合字母的两个字符时，尽量使之具有描述性，这样就更容易记住他们，甚至也能猜出其含义。例如，如果想输入如下字符 <code>½</code>，只需输入 <code>Ctrl+k 12</code> 即可。</p>
<p>Vim 的缺省二合字母集遵从一定的惯例，使用 <code>:h digraphs-default</code> 获得更多信息。用命令 <code>:digraphs</code> 查看可用的二合字母列表，或者使用 <code>:h digraph-table</code> 查看另一个更为有用的列表。</p>
<p>以下总结了插入 <code>非常用字符</code> 的命令：</p>
<ul>
<li><code>&lt;Ctrl-v&gt;&#123;digit&#125;</code>：以十进制字符编码插入字符</li>
<li><code>&lt;Ctrl-v&gt;u&#123;digit&#125;</code>：以十六进制字符编码插入字符</li>
<li><code>&lt;Ctrl-v&gt;&#123;nodigit&#125;</code>：按原义插入非数字字符</li>
<li><code>&lt;Ctrl-k&gt;&#123;char1&#125;&#123;char2&#125;</code>：插入以二合字母 <code>&#123;char1&#125;&#123;char2&#125;</code> 表示的字符</li>
</ul>
<h3 id="技巧-19：用替换模式替换已有文本"><a href="#技巧-19：用替换模式替换已有文本" class="headerlink" title="技巧 19：用替换模式替换已有文本"></a>技巧 19：用替换模式替换已有文本</h3><p>用 <code>R</code> 命令可以由普通模式进入替换模式，在替换模式中输入时会替换文档中的已有文本，替换完成之后，需要输入 <code>Esc</code> 回到普通模式。</p>
<p>Vim 还有另外一种替换模式，称为 <code>虚拟替换模式</code>，该模式可由 <code>kR</code> 命令触发。在虚拟替换模式中，我们是按屏幕上实际显示的宽度来替换字符的，而不是按文件中所保存的字符进行替换。<code>虚拟替换模式</code> 最典型的用途就是把制表符当成一组空格进行处理。<br>用虚拟替换模式替换制表符：</p>
<p>Vim 也提供了单次版本的替换模式及虚拟替换模式。<code>r&#123;char&#125;</code> 和 <code>gr&#123;char&#125;</code> 命令允许我们覆盖一个字符，之后马上又回到普通模式。</p>
<h2 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h2><h3 id="技巧-20：深入理解可视模式"><a href="#技巧-20：深入理解可视模式" class="headerlink" title="技巧 20：深入理解可视模式"></a>技巧 20：深入理解可视模式</h3><p>Vim 可视模式允许我们选中一个文本区域并在其上操作。可视模式仅仅是另外一种模式，也就是说在此模式中，每个按键都完成一种不同的功能。</p>
<p>很多普通模式下的命令，在可视模式下也完成相同的功能。每次在可视模式中移动光标，都会改变高亮选区的边界。在可视模式中，我们先选中选区，再触发修改命令（在普通模式下，我们先触发修改命令，然后使用动作命令指定其作用范围）。</p>
<p>Vim 还提供了选择模式，Vim的 选择模式类似于 <code>Microsoft Windows</code> 的选择模式，在此模式下，输入的可见字符会使所选中的文本被删除，同时 Vim 会进入插入模式，并插入这个可见字符。输入 <code>&lt;Ctrl-g&gt;</code> 可以在可见模式及选择模式间切换。还是要尽量少用 Vim 的选择模式，该模式更多是为了迎合那些想让 Vim 更像普通编辑器的用户。</p>
<h3 id="技巧-21：选择高亮选区"><a href="#技巧-21：选择高亮选区" class="headerlink" title="技巧 21：选择高亮选区"></a>技巧 21：选择高亮选区</h3><p>Vim 有 3 种风格的可视模式：</p>
<ul>
<li>面向字符的可视模式：能够选择任意的字符范围，该模式适用于操作单词或短语</li>
<li>面向行的可视模式：能够整行进行进行操作</li>
<li>面向列块的可视模式：能够对文档中的列块进行操作</li>
</ul>
<p>激活可视模式：</p>
<ul>
<li><code>v</code>：激活面向字符的可视模式</li>
<li><code>V</code>：激活面向行的可视模式</li>
<li><code>&lt;Ctrl-v&gt;</code>：激活面向列块的可视模式</li>
<li><code>gv</code>：重选上次的高亮选区；</li>
</ul>
<p>可以在不同风格在可视模式间切换，方法和在普通模式下激活可视模式的方式相同。下面简单进行了总结：</p>
<ul>
<li><ESC>、<code>&lt;Ctrl-[&gt;</code>：回到普通模式</li>
<li><code>v</code> 、<code>V</code> 、<code>&lt;C-v&gt;</code>：普通模式与相应的可视模式间的转换开关</li>
<li><code>v</code>：其他可视模式切换到面向字符的可视模式</li>
<li><code>V</code>：其他可视模式切换到面向行的可视模式</li>
<li><code>&lt;Ctrl-v&gt;</code>：其他可视模式切换到面向列块的可视模式</li>
</ul>
<p>高亮选区的范围由其两个端点界定，其中一端固定，而另一端可以随光标自由移动。我们可以用 <code>o</code> 键来切换其活动的端点。</p>
<h3 id="技巧-22：重复执行面向行的可视命令"><a href="#技巧-22：重复执行面向行的可视命令" class="headerlink" title="技巧 22：重复执行面向行的可视命令"></a>技巧 22：重复执行面向行的可视命令</h3><p>在使用 <code>.</code> 命令重复一条可视模式命令时，它所操作的文本数量和上次被高亮选中的文本数量相同。对于面向行的高亮选区来说，这种做法往往符合我们的需要。但是对于面向字符的高亮选取来说，却会产生令人意外的结果。</p>
<p>在可视模式下，执行完一条命令后，就返回到普通模式，而且可视模式下所选中的文本也不再高亮显示了，如果需要对相同的文本执行另一条可视命令：</p>
<ul>
<li>可以首先使用gv命令恢复对原高亮区域的选中，然后执行新的命令</li>
<li>如果是同一条命令，直接使用 <code>.</code> 命令即可</li>
</ul>
<h3 id="技巧23-只要可能，最好用操作符命令，而不是可视命令"><a href="#技巧23-只要可能，最好用操作符命令，而不是可视命令" class="headerlink" title="技巧23 只要可能，最好用操作符命令，而不是可视命令"></a>技巧23 只要可能，最好用操作符命令，而不是可视命令</h3><p>当使用面向字符的高亮选区时，使用 <code>.</code> 命令有时会有一些异常的表现。</p>
<p>对于如下文本，假设我们想把标签中的文字转换成大写形式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;#&quot;&gt;one&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;#&quot;&gt;two&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;#&quot;&gt;three&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<p>可以用 <code>vit</code> 命令来选中标签里的内容，其中 <code>it</code> 命令是一种被称为 <code>文本对象</code> 的特殊动作命令。之后使用 <code>U</code> 命令来把选中的字符转换成大写。</p>
<p>接下来如果连续使用 <code>j.</code> 命令来对接下来的两行做重复修改时，最终的结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;#&quot;&gt;ONE&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;#&quot;&gt;TWO&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;#&quot;&gt;THRee&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<p>在第三行时出现问题，其原因是当一条可视模式命令被重复执行时，它只会影响相同数量的文本。</p>
<p>如果我们使用普通模式下的操作符命令，例如可视模式下的 <code>U</code> 命令等效于普通模式的 <code>gU</code> 命令，则通过 <code>gUit</code> 完成第一行修改后，直接输入 <code>j.j.</code> 即可完成之后两行的修改。</p>
<p>这个例子告诉我们：</p>
<ul>
<li>如果我们想使 <code>.</code> 命令能够重复某些有用的工作，那么最好远离可视模式。在做一系列可重复修改时，最好首选操作符命令，而不是其对应的可视模式命令</li>
<li>但对一次性的修改任务来说，尤其是要修改的文本范围的结构很难用动作命令表达出来，这就是可视模式所擅长的</li>
</ul>
<h3 id="技巧-24：用面向列块的可视模式编辑表格数据"><a href="#技巧-24：用面向列块的可视模式编辑表格数据" class="headerlink" title="技巧 24：用面向列块的可视模式编辑表格数据"></a>技巧 24：用面向列块的可视模式编辑表格数据</h3><p>Vim 提供了面向列块的可视模式，使得我们可以以列为单位进行文本操作。</p>
<p>例如对如下文本，想添加分割线，以使之看上去更像表格：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1    one</span><br><span class="line">2    two</span><br><span class="line">3    three</span><br></pre></td></tr></table></figure>

<p>可以通过如下操作（假设当前光标在第一行第一个空格处）：</p>
<ul>
<li><code>&lt;Ctrl-V&gt;jj</code>：选中一列文本</li>
<li><code>x</code>：删除该列</li>
<li><code>..</code>：重复删除</li>
<li><code>gv</code>：再次选中文本</li>
<li><code>r|</code>：将文本替换为 <code>|</code></li>
<li><code>gg</code>：回到第一行</li>
<li><code>yyp</code>：复制一行</li>
<li><code>Vr-</code>：选中新生成的行，并将该行文本替换为 <code>-</code></li>
</ul>
<p>最后得到如下文本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1|one</span><br><span class="line">-----</span><br><span class="line">2|two</span><br><span class="line">3|three</span><br></pre></td></tr></table></figure>

<h3 id="技巧-25：修改列文本"><a href="#技巧-25：修改列文本" class="headerlink" title="技巧 25：修改列文本"></a>技巧 25：修改列文本</h3><p><strong>用列块可视模式可以同时往若干行中插入文本</strong>，该功能非常有用。</p>
<p>例如对于如下文本，想要把images目录修改为contents，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">the path is /images/1</span><br><span class="line">the path is /images/2</span><br><span class="line">the path is /images/3</span><br></pre></td></tr></table></figure>

<p>可以通过如下步骤实现（假设当前光标在 images 的 i 字符上）</p>
<ul>
<li><code>&lt;Ctrl-v&gt;jje</code>：选中文本</li>
<li><code>c</code>：进入插入模式，修改文本</li>
<li>输入 <code>contents</code>（输入时只有顶行显示）</li>
<li><code>Esc</code> 键后，输入的修改在下两行同时生效</li>
</ul>
<h3 id="技巧-26：在长短不一的高亮块后添加文本"><a href="#技巧-26：在长短不一的高亮块后添加文本" class="headerlink" title="技巧 26：在长短不一的高亮块后添加文本"></a>技巧 26：在长短不一的高亮块后添加文本</h3><p><strong>列块可视模式</strong>并不仅限于操作方形的文本区域，对于不同长度的高亮块，我们可以非常方便选中。</p>
<p>例如，需要对如下文本的每行结尾添加 <code>;</code>，可以使用如下命令：</p>
<ul>
<li><code>&lt;C-v&gt;jj$</code>：选中每行</li>
<li><code>A</code>：在行末尾添加字符 <code>；</code></li>
<li><code>Esc</code> 键后，所有行都添加了 <code>;</code></li>
</ul>
<p>同样在插入模式期间，只有顶行才会显示插入的字符，但是 <code>Esc</code> 键后，这些修改就会扩散到其余选中的行上。</p>
<p>在列块可视模式下，I 命令和 A 命令分别将光标置于选区的开头和结尾。需要注意，不同于普通模式，此时输入 <code>i 或者 a</code> 并不会进入插入模式，在可视模式以及操作符待决模式下，它们会被当成一个文本对象的组成部分。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/fuchencong.github.io/tags/Vim/" rel="tag"># Vim</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/fuchencong.github.io/2018/11/25/svn-basic-use/" rel="prev" title="SVN 命令基础用法">
      <i class="fa fa-chevron-left"></i> SVN 命令基础用法
    </a></div>
      <div class="post-nav-item">
    <a href="/fuchencong.github.io/2018/09/29/practical-vim-01/" rel="next" title="Vim 实用技巧（01）：Vim 解决问题的方式 & 普通模式">
      Vim 实用技巧（01）：Vim 解决问题的方式 & 普通模式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.</span> <span class="nav-text">插入模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-13%EF%BC%9A%E5%9C%A8%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F%E4%B8%AD%E5%8F%AF%E5%8D%B3%E6%97%B6%E6%9B%B4%E6%AD%A3%E9%94%99%E8%AF%AF"><span class="nav-number">1.1.</span> <span class="nav-text">技巧 13：在插入模式中可即时更正错误</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-14%EF%BC%9A%E8%BF%94%E5%9B%9E%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.2.</span> <span class="nav-text">技巧 14：返回普通模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-15%EF%BC%9A%E4%B8%8D%E7%A6%BB%E5%BC%80%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F%EF%BC%8C%E7%B2%98%E8%B4%B4%E5%AF%84%E5%AD%98%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%87%E6%9C%AC"><span class="nav-number">1.3.</span> <span class="nav-text">技巧 15：不离开插入模式，粘贴寄存器中的文本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-16%EF%BC%9A%E9%9A%8F%E6%97%B6%E9%9A%8F%E5%9C%B0%E5%81%9A%E8%BF%90%E7%AE%97"><span class="nav-number">1.4.</span> <span class="nav-text">技巧 16：随时随地做运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-17%EF%BC%9A%E7%94%A8%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E6%8F%92%E5%85%A5%E9%9D%9E%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6"><span class="nav-number">1.5.</span> <span class="nav-text">技巧 17：用字符编码插入非常用字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-18%EF%BC%9A%E7%94%A8%E4%BA%8C%E5%90%88%E5%AD%97%E6%AF%8D%E6%8F%92%E5%85%A5%E9%9D%9E%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6"><span class="nav-number">1.6.</span> <span class="nav-text">技巧 18：用二合字母插入非常用字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-19%EF%BC%9A%E7%94%A8%E6%9B%BF%E6%8D%A2%E6%A8%A1%E5%BC%8F%E6%9B%BF%E6%8D%A2%E5%B7%B2%E6%9C%89%E6%96%87%E6%9C%AC"><span class="nav-number">1.7.</span> <span class="nav-text">技巧 19：用替换模式替换已有文本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">可视模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-20%EF%BC%9A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.1.</span> <span class="nav-text">技巧 20：深入理解可视模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-21%EF%BC%9A%E9%80%89%E6%8B%A9%E9%AB%98%E4%BA%AE%E9%80%89%E5%8C%BA"><span class="nav-number">2.2.</span> <span class="nav-text">技巧 21：选择高亮选区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-22%EF%BC%9A%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C%E9%9D%A2%E5%90%91%E8%A1%8C%E7%9A%84%E5%8F%AF%E8%A7%86%E5%91%BD%E4%BB%A4"><span class="nav-number">2.3.</span> <span class="nav-text">技巧 22：重复执行面向行的可视命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A723-%E5%8F%AA%E8%A6%81%E5%8F%AF%E8%83%BD%EF%BC%8C%E6%9C%80%E5%A5%BD%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%91%BD%E4%BB%A4%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%8F%AF%E8%A7%86%E5%91%BD%E4%BB%A4"><span class="nav-number">2.4.</span> <span class="nav-text">技巧23 只要可能，最好用操作符命令，而不是可视命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-24%EF%BC%9A%E7%94%A8%E9%9D%A2%E5%90%91%E5%88%97%E5%9D%97%E7%9A%84%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F%E7%BC%96%E8%BE%91%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE"><span class="nav-number">2.5.</span> <span class="nav-text">技巧 24：用面向列块的可视模式编辑表格数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-25%EF%BC%9A%E4%BF%AE%E6%94%B9%E5%88%97%E6%96%87%E6%9C%AC"><span class="nav-number">2.6.</span> <span class="nav-text">技巧 25：修改列文本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7-26%EF%BC%9A%E5%9C%A8%E9%95%BF%E7%9F%AD%E4%B8%8D%E4%B8%80%E7%9A%84%E9%AB%98%E4%BA%AE%E5%9D%97%E5%90%8E%E6%B7%BB%E5%8A%A0%E6%96%87%E6%9C%AC"><span class="nav-number">2.7.</span> <span class="nav-text">技巧 26：在长短不一的高亮块后添加文本</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="fuchencong"
      src="/fuchencong.github.io/images/logo.jpeg">
  <p class="site-author-name" itemprop="name">fuchencong</p>
  <div class="site-description" itemprop="description">Having dreams is what makes life tolerable.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/fuchencong.github.io/archives/">
        
          <span class="site-state-item-count">111</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/fuchencong.github.io/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/fuchencong.github.io/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/fuchencong" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fuchencong" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fuchencong@163.com" title="E-Mail → mailto:fuchencong@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fuchencong</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/fuchencong.github.io/lib/anime.min.js"></script>
  <script src="/fuchencong.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/fuchencong.github.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/fuchencong.github.io/js/utils.js"></script>

<script src="/fuchencong.github.io/js/motion.js"></script>


<script src="/fuchencong.github.io/js/schemes/muse.js"></script>


<script src="/fuchencong.github.io/js/next-boot.js"></script>




  















  

  

</body>
</html>
