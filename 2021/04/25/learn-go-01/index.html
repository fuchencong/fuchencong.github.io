<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/fuchencong.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/fuchencong.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/fuchencong.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/fuchencong.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/fuchencong.github.io/css/main.css">


<link rel="stylesheet" href="/fuchencong.github.io/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"fuchencong.github.io","root":"/fuchencong.github.io/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Go 语言自 C 一脉相承，又吸收了些时髦的东西。最重要的是，它依旧简单。本系列文章是《Go 语言学习笔记》一书的读书笔记。">
<meta property="og:type" content="article">
<meta property="og:title" content="Go 语言学习笔记（1）：初识 Go，类型与表达式">
<meta property="og:url" content="https://fuchencong.github.io/fuchencong.github.io/2021/04/25/learn-go-01/index.html">
<meta property="og:site_name" content="fuchencong">
<meta property="og:description" content="Go 语言自 C 一脉相承，又吸收了些时髦的东西。最重要的是，它依旧简单。本系列文章是《Go 语言学习笔记》一书的读书笔记。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-04-25T09:36:14.000Z">
<meta property="article:modified_time" content="2022-08-25T12:04:03.746Z">
<meta property="article:author" content="fuchencong">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://fuchencong.github.io/fuchencong.github.io/2021/04/25/learn-go-01/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Go 语言学习笔记（1）：初识 Go，类型与表达式 | fuchencong</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/fuchencong.github.io/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">fuchencong</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">The way I am</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/fuchencong.github.io/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/fuchencong.github.io/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/fuchencong.github.io/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/fuchencong.github.io/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/fuchencong.github.io/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fuchencong.github.io/fuchencong.github.io/2021/04/25/learn-go-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/fuchencong.github.io/images/logo.jpeg">
      <meta itemprop="name" content="fuchencong">
      <meta itemprop="description" content="Having dreams is what makes life tolerable.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fuchencong">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Go 语言学习笔记（1）：初识 Go，类型与表达式
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-25 17:36:14" itemprop="dateCreated datePublished" datetime="2021-04-25T17:36:14+08:00">2021-04-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/fuchencong.github.io/categories/Go-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">Go 读书笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Go 语言自 C 一脉相承，又吸收了些时髦的东西。最重要的是，它依旧简单。本系列文章是《Go 语言学习笔记》一书的读书笔记。</p>
<span id="more"></span>

<h2 id="Go-特征简介"><a href="#Go-特征简介" class="headerlink" title="Go 特征简介"></a>Go 特征简介</h2><ul>
<li>语法简单：Go 语言与 C99、C11 相似之处颇多，有时候被称为 <code>NextC</code>。Go 语言从 0 开始，没有历史包袱，在汲取众多经验教训后，可以从头规划一个规则严谨、条例简单的世界</li>
<li>并发模型：Goruntime 是 Go 最为显著的特征，它用类似于协程的方式来处理并发单元，却又在运行时层面做了更深度的优化处理。这使得语法上的并发编程变得极为容易，无需处理回调，无须关注运行时切换，仅一个关键字，简单而自然。搭配 channel，实现 CSP 模型，将并发单元间的数据耦合解开，各司其职</li>
<li>内存分配：Go 使用了 tcmalloc（为并发而设计的高性能内存分配组件）。除偶尔因性能问题而被迫采用对象池和自主内存管理外，基本无需参与内存管理操作</li>
<li>垃圾回收：垃圾回收一直是一个难题，每次升级，垃圾回收器必然是核心组件里修改最多的部分。Go Team 一直在为好用的垃圾回收算法而努力</li>
<li>静态链接：Go 刚发布时，静态链接被当做优点宣传，只需编译后的一个可执行文件，无需附加任何东西就能部署。将运行时、依赖库直接打包到可执行文件内部，简化了部署和发布操作。这种简单方式对于编写系统软件有着极大的好处，因为库依赖一直都是一个麻烦事</li>
<li>标准库：功能完善、质量可靠的标准库为编程语言提供了充足动力。优秀的第三方资源也是语言生态圈的重要组成部分</li>
<li>工具链：完整的工具链对日常开发极为重要，无论是编译、格式化、错误检查、帮助文档、还是第三方包下载、更新，都有对应的工具。内置完整的测试框架，包括单元测试、性能测试、代码覆盖率、数据竞争，以及用来调用的 pprof。除此之外，还可以通过环境变量输出运行时监控信息，尤其是垃圾回收和并发调度跟踪，可以帮助我们改进算法，获得更佳的运行器表现</li>
</ul>
<h2 id="初识-Go"><a href="#初识-Go" class="headerlink" title="初识 Go"></a>初识 Go</h2><h3 id="源文件"><a href="#源文件" class="headerlink" title="源文件"></a>源文件</h3><ul>
<li>源文件使用 utf-8 编码，对 unicode 支持良好</li>
<li>每个源文件都属于包的一部分，在文件头部用 package 声明所属包的名称</li>
<li>以 <code>.go</code> 作为文件扩展名，语句结束分号会被默认省略</li>
<li>支持 C 样式注释</li>
<li>入口函数 main 没有参数，且必须放在 main 包中</li>
<li>用 import 导入标准库或第三方包。如果导入某个包，但是没有使用，编译器会报错</li>
<li>可以直接运行，或将源文件编译为可执行文件后运行</li>
</ul>
<p>以下是 Go 语言的 <code>hello, world</code>：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">test.go</span><br><span class="line">$ go run test.go</span><br><span class="line">hello, world</span><br><span class="line">$ go build test.go</span><br><span class="line">$ ./test</span><br><span class="line">hello, world</span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul>
<li>使用 var 定义变量，<strong>支持类型推断</strong></li>
<li>基础数据类型划分清晰明确，有助于编写跨平台应用</li>
<li>编译器确保变量总是被初始化为零值，避免出现意外情况</li>
<li>在函数内部，还可以省略 var 关键字，使用更简单的定义模式</li>
<li>编译器将未使用的局部变量定义为错误</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x <span class="type">int32</span></span><br><span class="line">	<span class="keyword">var</span> s = <span class="string">&quot;hello, world&quot;</span></span><br><span class="line">	y := <span class="number">100</span></span><br><span class="line">	<span class="built_in">println</span>(x, y, s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p>Go 仅有三种流控制语句：</p>
<ul>
<li>if 语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">100</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> x &gt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="built_in">println</span>(x)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="built_in">println</span>(-x)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">println</span>(<span class="number">0</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>switch 语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">100</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> x &gt; <span class="number">0</span>:</span><br><span class="line">		<span class="built_in">println</span>(x)</span><br><span class="line">	<span class="keyword">case</span> x &lt; <span class="number">0</span>:</span><br><span class="line">		<span class="built_in">println</span>(-x)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="number">0</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>for 语句</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		<span class="built_in">println</span>(i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在迭代遍历时，for…range 除元素外，还可以返回索引</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := []<span class="type">int</span>&#123;<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i, n := <span class="keyword">range</span> x &#123;</span><br><span class="line">		<span class="built_in">println</span>(i, <span class="string">&quot;:&quot;</span>, n)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ul>
<li>函数可以定义多个返回值，甚至对其命名</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">div</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, errors.New(<span class="string">&quot;division by zero&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a / b, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>函数是第一类型，可以将其作为参数或者返回值</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(x <span class="type">int</span>)</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="built_in">println</span>(x)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">100</span></span><br><span class="line"></span><br><span class="line">	f := test(x)</span><br><span class="line">	f()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>用 defer 定义延迟调用，无论函数是否出错，它都确保结束前被调用</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">defer</span> <span class="built_in">println</span>(<span class="string">&quot;dispose...&quot;</span>)</span><br><span class="line">	<span class="built_in">println</span>(a / b)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	test(<span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><ul>
<li>切片实现类似动态数组的功能</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">		x = <span class="built_in">append</span>(x, i)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>将字典类型内置，可从运行时层面获得性能优化</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">	m[<span class="string">&quot;a&quot;</span>] = <span class="number">1</span></span><br><span class="line">	x, ok := m[<span class="string">&quot;b&quot;</span>]</span><br><span class="line">	fmt.Println(x, ok)</span><br><span class="line"></span><br><span class="line">	<span class="built_in">delete</span>(m, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>上一个例子中使用了 <code>ok-idiom</code> 模式，在多个返回返回值中使用一个名为 ok 的布尔值来表示操作是否成功。因为很多操作默认都返回零值，所以需要额外说明</p>
</li>
<li><p>结构体可以匿名嵌入其他类型，然后直接访问匿名字段的成员</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">byte</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> manager <span class="keyword">struct</span> &#123;</span><br><span class="line">	user</span><br><span class="line">	title <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m manager</span><br><span class="line"></span><br><span class="line">	m.name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">	m.age = <span class="number">29</span></span><br><span class="line">	m.title = <span class="string">&quot;CTO&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul>
<li>可以为当前包内的任意类型定义方法</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> X <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(x *X)</span></span> inc() &#123;</span><br><span class="line">	*x++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x X</span><br><span class="line">	x.inc()</span><br><span class="line">	fmt.Println(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>可以直接调用匿名字段的方法，这种方式可实现与继承类似的功能</strong></li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">byte</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u user)</span></span> ToString() <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;%+v&quot;</span>, u)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> manager <span class="keyword">struct</span> &#123;</span><br><span class="line">	user</span><br><span class="line">	title <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m manager</span><br><span class="line"></span><br><span class="line">	m.name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">	m.age = <span class="number">29</span></span><br><span class="line">	m.title = <span class="string">&quot;CTO&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(m.ToString())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><ul>
<li>接口采用了 duck type，也就是说无须在实现类型上添加显式声明</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">byte</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u user)</span></span> Print() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%+v\n&quot;</span>, u)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Printer <span class="keyword">interface</span> &#123;</span><br><span class="line">	Print()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m user</span><br><span class="line"></span><br><span class="line">	m.name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">	m.age = <span class="number">29</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> p Printer = m</span><br><span class="line">	p.Print()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>空接口类型 interface{} 类似于 OOP 里的 Object 类型，可以接收任意类型对象</li>
</ul>
<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><ul>
<li>整个运行时完全并发设计，凡是你能看到的，几乎都在以 goroutine 方式运行</li>
<li>这是一种比普通线协程或线程更加高效的设计，能够轻松创建和运行成千上万的并发任务</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">task</span><span class="params">(id <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%d: %d\n&quot;</span>, id, i)</span><br><span class="line">		time.Sleep(time.Second)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> task(<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">go</span> task(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	time.Sleep(time.Second * <span class="number">6</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>通道（channel）与 goroutine 搭配，<strong>实现用通信代替内存共享的 CSP 模型</strong></li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">consumer</span><span class="params">(data <span class="keyword">chan</span> <span class="type">int</span>, done <span class="keyword">chan</span> <span class="type">bool</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> x := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;recv:&quot;</span>, x)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	done &lt;- <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">producer</span><span class="params">(data <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">		data &lt;- i</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">close</span>(data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	done := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>)</span><br><span class="line">	data := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> consumer(data, done)</span><br><span class="line">	<span class="keyword">go</span> producer(data)</span><br><span class="line"></span><br><span class="line">	&lt;-done</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><h3 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h3><p>从计算机的角度来看，变量是一段或多段用来存储数据的内存。作为静态数据类型语言，Go 变量总是有固定的数据类型，类型决定了变量内存的长度和存储格式，只能修改变量的值，无法改变类型。实际上，<strong>编译后的机器码从不使用变量名，而是直接通过内存地址来访问目标数据</strong>。保存在符号表中的变量名等信息可以被删除，或用于输出更详细的错误信息。</p>
<h4 id="变量的定义"><a href="#变量的定义" class="headerlink" title="变量的定义"></a>变量的定义</h4><ul>
<li>关键字 var 用于定义变量，类型被放置于变量名之后。另外运行时内存分配操作会确保变量自动初始化为该类型的零值，避免出现不可预测的行为</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="type">int</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>如果显式提供初始值，可省略变量类型，由编译器推断</strong></li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> y = <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<ul>
<li>可一次定义多个变量，包括用不同初始值定义不同类型</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, y <span class="type">int</span></span><br><span class="line"><span class="keyword">var</span> a, s = <span class="number">100</span>, <span class="string">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>依照惯例，建议以多组方式整理多行变量定义</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    x, y <span class="type">int</span></span><br><span class="line">    a, s = <span class="number">100</span>, <span class="string">&quot;abc&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li>除 var 关键字外，还可以使用更加简短的变量定义和初始化语法。简短定义在函数多返回值，以及 if&#x2F;for&#x2F;switch 等语句中定义局部变量非常方便</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">100</span></span><br><span class="line">a, s := <span class="number">1</span>, <span class="string">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure>

<p>简短模式有些限制：</p>
<p>1： 定义变量，同时显式初始化<br>2：不能提供数据类型<br>3：只能用在函数内部</p>
<p>需要注意，简短模式并不总是重新定义变量，也可能是部分退化的赋值操作。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">100</span></span><br><span class="line">	<span class="built_in">println</span>(&amp;x, x)</span><br><span class="line"></span><br><span class="line">	x, y := <span class="number">200</span>, <span class="string">&quot;abc&quot;</span></span><br><span class="line">	<span class="built_in">println</span>(&amp;x, x)</span><br><span class="line">	<span class="built_in">println</span>(&amp;y, y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./short_var</span><br><span class="line"><span class="number">0xc00003a760</span> <span class="number">100</span></span><br><span class="line"><span class="number">0xc00003a760</span> <span class="number">200</span></span><br><span class="line"><span class="number">0xc00003a768</span> abc</span><br></pre></td></tr></table></figure>

<p>退化赋值的前提条件是：<strong>最少有一个新变量被定义，且必须是同一作用域</strong>。以下两种情况都不是退化赋值：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">100</span></span><br><span class="line">	<span class="built_in">println</span>(&amp;x, x)</span><br><span class="line"></span><br><span class="line">	x := <span class="number">200</span></span><br><span class="line">	<span class="built_in">println</span>(&amp;x, x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ go build short_var_err1.go</span><br><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line">./short_var_err1.go:7:4: no new variables on left side of :=</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">100</span></span><br><span class="line">	<span class="built_in">println</span>(&amp;x, x)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line">		x, y := <span class="number">200</span>, <span class="string">&quot;abc&quot;</span></span><br><span class="line">		<span class="built_in">println</span>(&amp;x, x)</span><br><span class="line">		<span class="built_in">println</span>(&amp;y, y)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./short_var_err2</span><br><span class="line">0xc00003a760 100</span><br><span class="line">0xc00003a758 200</span><br><span class="line">0xc00003a768 abc</span><br></pre></td></tr></table></figure>

<p><strong>在处理函数错误返回值时，退化赋值允许我们重复使用 err 变量，这简化了代码的写法</strong>。</p>
<h4 id="多变量赋值"><a href="#多变量赋值" class="headerlink" title="多变量赋值"></a>多变量赋值</h4><ul>
<li>在进行多变量赋值操作时，首先计算出所有右值，然后再依次完成赋值操作</li>
<li>赋值操作，必须确保左右值类型相同</li>
</ul>
<h4 id="未使用错误"><a href="#未使用错误" class="headerlink" title="未使用错误"></a>未使用错误</h4><ul>
<li>编译器将未使用的局部变量当做错误，这有助于培养良好的编码习惯</li>
</ul>
<h4 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h4><p>对变量、常量、函数、自定义类型进行命名，通常优先选用有实际含义，易于阅读和理解的字母或单词组合。命名建议：</p>
<ul>
<li>以字母或下划线开始，由字母、数字、下划线构成</li>
<li>区分大小写</li>
<li><strong>使用驼峰拼写格式</strong></li>
<li><strong>局部变量优先使用短名</strong></li>
<li>**不要使用保留关键字</li>
<li>不建议使用与预定义常量、类型、内置函数相同的名字</li>
<li>专有名词通常会全部大写</li>
</ul>
<p><strong>符号名字首字母大小写决定了其作用域，首字母大写的为导出成员，可以被外部包引用，而小写则仅能在包内使用。</strong>c</p>
<p>Go 提供了一个名为 <code>_</code> 的特殊成员，通常用作忽略占位符使用，可用作表达式左值，无法读取内容。空标识符可用来临时规避编译器对未使用变量和导入包的错误检查。空标识符是预置成员，不能重新定义。</p>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>常量表示运行时恒定不可变的值，通常是一些字面量。常量值必须是编译器可确定的字符、字符串、数字和布尔值。可指定常量类型，或由编译器通过初始化值推断，不支持 C&#x2F;C++ 数字类型后缀。未曾使用的常量不会引发编译错误。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x, y <span class="type">int</span> = <span class="number">123</span>, <span class="number">0x22</span></span><br><span class="line"><span class="keyword">const</span> s = <span class="string">&quot;hello, world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	i, f = <span class="number">1</span>, <span class="number">0.123</span></span><br><span class="line">	b    = <span class="literal">false</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	m, n <span class="type">int</span>  = <span class="number">99</span>, <span class="number">-99</span></span><br><span class="line">	p    <span class="type">byte</span> = <span class="type">byte</span>(m)</span><br><span class="line">	q         = <span class="type">uint8</span>(n)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">const</span> x = <span class="number">123</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>如果显式指定类型，必须确保常量的左右值类型一致，需要时可以做显式转换</strong>。右值不能超过常量类型取值范围，否则会引发溢出错误。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	m, n <span class="type">int</span>  = <span class="number">99</span>, <span class="number">-99</span></span><br><span class="line">	p    <span class="type">byte</span> = <span class="type">byte</span>(m)</span><br><span class="line">	q         = <span class="type">uint8</span>(n)    <span class="comment">//  constant -99 overflows uint8</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>常量值也可以是某些编译器能计算出结果的表达式，如 unsafe.Sizeof, len, cap 等。</p>
<p>在常量组中，如果不指定类型和初始化值，则与上一行非空常量右值相同。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	x <span class="type">uint16</span> = <span class="number">120</span></span><br><span class="line">	y</span><br><span class="line">	s = <span class="string">&quot;abc&quot;</span></span><br><span class="line">	z</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(x, y, s, z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h4><p>Go 并没有明确意义上的 enum 定义，但是通过 itoa 标识符可以实现一组自增常量值，从而实现枚举类型。iota 的值是当前常量表达式在常量组中的索引，从 0 开始计数。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	x = <span class="literal">iota</span></span><br><span class="line">	y</span><br><span class="line">	z</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	_  = <span class="literal">iota</span></span><br><span class="line">	KB = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">	MB</span><br><span class="line">	GB</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(x, y, z)</span><br><span class="line">	fmt.Println(KB, MB, GB)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以在多常量定义中使用多个 iota，它们各自单独计数，只需要保证每行常量的列数量相同即可。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	_, _ = <span class="literal">iota</span>, <span class="literal">iota</span> * <span class="number">10</span></span><br><span class="line">	a, b = <span class="literal">iota</span>, <span class="literal">iota</span> * <span class="number">10</span></span><br><span class="line">	c, d = <span class="literal">iota</span>, <span class="literal">iota</span> * <span class="number">10</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(a, b)</span><br><span class="line">	fmt.Println(c, d)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果中断 iota，必须显式恢复。且恢复后的枚举值仍按行序递增（而不是从上一个值开始递增）：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	a = <span class="literal">iota</span></span><br><span class="line">	b</span><br><span class="line">	c = <span class="number">100</span></span><br><span class="line">	d</span><br><span class="line">	e = <span class="literal">iota</span></span><br><span class="line">	f</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(a, b, c, d, e, f)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在实际编码中，建议使用自定义类型实现用途明确的枚举类型。但这并不能将取值范围限定在预定义的枚举值内：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> color <span class="type">byte</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	black color = <span class="literal">iota</span></span><br><span class="line">	red</span><br><span class="line">	blue</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(c color)</span></span> &#123;</span><br><span class="line">	<span class="built_in">println</span>(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    test(red)</span><br><span class="line">    <span class="comment">// compile error</span></span><br><span class="line">	test(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// compile error</span></span><br><span class="line">	x := <span class="number">2</span></span><br><span class="line">	test(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="常量小结"><a href="#常量小结" class="headerlink" title="常量小结"></a>常量小结</h4><ul>
<li>不同于变量在运行期分配存储内存（非优化状态），常量通常会被编译器在预处理阶段直接展开，作为指令数据使用</li>
<li>数字常量不会分配存储空间，无须像变量那样通过内存寻址来取值，因此无法获取地址</li>
<li>另外定义常量时，是否指定类型也会对编译器产生影响</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">const</span> x = <span class="number">100</span></span><br><span class="line">    <span class="comment">// ok</span></span><br><span class="line">	<span class="keyword">const</span> y <span class="type">byte</span> = x</span><br><span class="line"></span><br><span class="line">	<span class="built_in">println</span>(x, y)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">const</span> a <span class="type">int</span> = <span class="number">100</span></span><br><span class="line">    <span class="comment">// compile error</span></span><br><span class="line">	<span class="keyword">const</span> b <span class="type">byte</span> = a</span><br><span class="line">	<span class="built_in">println</span>(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> build const3.<span class="keyword">go</span></span><br><span class="line"># command-line-arguments</span><br><span class="line">./const3.<span class="keyword">go</span>:<span class="number">10</span>:<span class="number">8</span>: cannot use a (<span class="keyword">type</span> <span class="type">int</span>) as <span class="keyword">type</span> <span class="type">byte</span> in <span class="keyword">const</span> initializer</span><br></pre></td></tr></table></figure>

<h3 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h3><p>清晰完备的预定义基础类型，使得开发跨平台应用时无需过多考虑符号和长度差异。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>长度</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>bool</td>
<td>1</td>
<td>false</td>
</tr>
<tr>
<td>byte</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>int, uint</td>
<td>4 &#x2F; 8</td>
<td>0</td>
</tr>
<tr>
<td>int8, uint8</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>int16, uint16</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>int32, uint32</td>
<td>4</td>
<td>0</td>
</tr>
<tr>
<td>int64, uint64</td>
<td>8</td>
<td>0</td>
</tr>
<tr>
<td>float32</td>
<td>4</td>
<td>0.0</td>
</tr>
<tr>
<td>float64</td>
<td>8</td>
<td>0.0</td>
</tr>
<tr>
<td>complex64</td>
<td>8</td>
<td></td>
</tr>
<tr>
<td>complex128</td>
<td>16</td>
<td></td>
</tr>
<tr>
<td>rune</td>
<td>4</td>
<td>false</td>
</tr>
<tr>
<td>uintptr</td>
<td>4 &#x2F; 8</td>
<td>0</td>
</tr>
<tr>
<td>string</td>
<td></td>
<td>“”</td>
</tr>
<tr>
<td>array</td>
<td></td>
<td></td>
</tr>
<tr>
<td>struct</td>
<td></td>
<td></td>
</tr>
<tr>
<td>function</td>
<td></td>
<td>nil</td>
</tr>
<tr>
<td>interface</td>
<td></td>
<td>nil</td>
</tr>
<tr>
<td>map</td>
<td></td>
<td>nil</td>
</tr>
<tr>
<td>slice</td>
<td></td>
<td>nil</td>
</tr>
<tr>
<td>channel</td>
<td></td>
<td>nil</td>
</tr>
</tbody></table>
<ul>
<li>支持八进制、十六进制以及科学计数法，标准库 math 定义了各数字类型的取值范围</li>
<li>标准库 strconv 可以在不同进制（字符串）间转换</li>
<li>使用浮点数时，需要注意小数位的有效精度问题</li>
</ul>
<h4 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h4><p>byte 其实是 uint8 的别名，而 rune 则是 uint32 的别名。<strong>别名类型无须转换，可直接赋值。但是这并不表示，拥有相同底层结构的就属于别名</strong>。例如在 64 位体系结构中，int 和 int64 底层结构完全相同，但是分属于不同类型，需显式转换。</p>
<h4 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h4><p>所谓引用类型，特指 slice、map、channel 这三种预定义类型。相比数字、数组等类型，引用类型拥有更复杂的存储结构，除分配内存外，它们还需要初始化一系列属性，例如指针、长度等。</p>
<p>内置函数 new 按照指定类型长度分配内存（内存中填充该类型的零值），返回指针，它并不关心类型内部构造和初始化方式。而引用类型则必须使用 make 函数创建，编译器会将 make 转换为目标类型专用的创建函数，以确保完成全部内存分配和相关属性初始化。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mkslice</span><span class="params">()</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	s := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">	s = <span class="built_in">append</span>(s, <span class="number">100</span>)</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mkmap</span><span class="params">()</span></span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span> &#123;</span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	m[<span class="string">&quot;a&quot;</span>] = <span class="number">1</span></span><br><span class="line">	<span class="keyword">return</span> m</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := mkmap()</span><br><span class="line">	<span class="built_in">println</span>(m[<span class="string">&quot;a&quot;</span>])</span><br><span class="line"></span><br><span class="line">	s := mkslice()</span><br><span class="line">	<span class="built_in">println</span>(s[<span class="number">0</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4><p>隐式转换造成的问题远远大于它所带来的好处。<strong>除常量、别名类型以及未命名类型外，Go 强制要求使用显式转换</strong>。加上不支持操作符重载，所以总是能确定语句及表达式的明确含义。同样，不能把非 bool 类型结果当做 true&#x2F;false 使用。</p>
<p>如果转换的目标是指针、单向通道或者没有返回值的函数类型，必须使用括号，以避免造成语法分解错误。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">100</span></span><br><span class="line">p := *<span class="type">int</span>(&amp;x)  <span class="comment">// error</span></span><br><span class="line">p := (*<span class="type">int</span>)(&amp;x) <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<h3 id="自定义类型"><a href="#自定义类型" class="headerlink" title="自定义类型"></a>自定义类型</h3><p>使用关键字 type 定义用户自定义类型，包括基于现有基础类型创建，或者是结构体、函数类型等。和 var、const 一样，多个 type 定义可以合并成组，可以在函数或代码块内定义局部类型。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> flags <span class="type">byte</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	read flags = <span class="number">1</span> &lt;&lt; <span class="literal">iota</span></span><br><span class="line">	write</span><br><span class="line">	exec</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	f := read | exec</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%b&quot;</span>, f)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>即便指定了基础类型，也只表明它们拥有相同的底层数据结构，两者之间不存在任何关系，属于两种完全不同的类型</strong>。除操作符外，自定义类型不会继承基础类型的其他信息（包括方法）。<strong>不能视作别名，不能隐式转换，不能直接用于比较表达式</strong>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">type</span> data <span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> d data = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// compile error</span></span><br><span class="line">	<span class="keyword">var</span> x <span class="type">int</span> = d</span><br><span class="line">	<span class="built_in">println</span>(d)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./data.go:7:6: cannot use d (<span class="built_in">type</span> data) as <span class="built_in">type</span> int <span class="keyword">in</span> assignment</span><br></pre></td></tr></table></figure>

<p>与有明确标识符的 bool、int、string 等类型相比，数组、切片、字典、通道等类型与具体元素类型或长度等属性有关，因此称为未命名类型。可以用 type 为其提供具体名称，将其改变为命名类型。具有相同声明的未命名类型被视为同一类型：</p>
<ul>
<li>具有相同基类型的指针</li>
<li>具有相同元素类型和长度的数组</li>
<li>具有相同元素类型的切片</li>
<li>具有相同键值类型的字典</li>
<li>具有相同数据类型及操作方向的通道</li>
<li>具有相同字段序列（字段名、字段类型、标签以及字段顺序）的结构体</li>
<li>具有相同签名（参数和返回值列表，不包括参数名）的函数</li>
<li>具有相同方法集（方法名、方法签名，不包括顺序）的接口</li>
</ul>
<p>未命名类型的转换规则如下：</p>
<ul>
<li>所属类型相同</li>
<li>基础类型相同，且其中一个是未命名类型</li>
<li>数据类型相同，将双向通道赋值给单向通道，且其中一个为未命名类型</li>
<li>将默认值 nil 赋值给切片、字典、通道、指针、函数或接口</li>
<li>对象实现了目标接口</li>
</ul>
<h2 id="表达式-1"><a href="#表达式-1" class="headerlink" title="表达式"></a>表达式</h2><h3 id="保留字"><a href="#保留字" class="headerlink" title="保留字"></a>保留字</h3><p>Go 语言仅包含 25 个保留关键字，这体现了 Go 语法规则的简洁性。</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>运算符和表达式用来串联数据和指令，算是最基础的算法。一元运算符的优先级最高，二元则分成 5 个级别，从高到低分别是：</p>
<p>1：* &#x2F; % &lt;&lt; &gt;&gt; &amp; &amp;^<br>2：+ - | ^<br>3：&#x3D;&#x3D; !&#x3D; &lt; &lt;&#x3D; &gt; &gt;&#x3D;<br>4：&amp;&amp;<br>5：||</p>
<p>相同优先级的二元运算符，从左往右依次计算。对于二元运算符而言，操作数类型必须相同，如果其中一个是无显式类型声明的常量，那么该常量操作数会自动转型。</p>
<ul>
<li>位移右操作数必须是无符号整数，或者可以转换的无显式类型常量。如果是非常量位移表达式，那么会优先将无显式类型的常量左操作数转型：</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">1.0</span> &lt;&lt; <span class="number">3</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T, %v\n&quot;</span>, a, a)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> s <span class="type">uint</span> = <span class="number">3</span></span><br><span class="line">	b := <span class="number">1.0</span> &lt;&lt; s</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> c <span class="type">int32</span> = <span class="number">1.0</span> &lt;&lt; s</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T, %v\n&quot;</span>, c, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line">./shift.go:10:4: invalid operation: 1 &lt;&lt; <span class="string">s (shift of type float64)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>二进制位运算符比较特别的是 <code>bit clear</code>，即 <code>&amp;^</code>，例如 <code>1011 &amp;^ 1101 = 0010</code>。</p>
</li>
<li><p>自增、自减不再是运算符，只能作为独立语句，不能用于表达式（表达式通常是求值代码，可作为右值或参数使用，而语句完成一个行为。表达式可以作为语句使用，而语句却不能作为表达式使用）。</p>
</li>
<li><p>不能将内存地址和指针混淆。内存地址是内存中每个字节单元的唯一编号，而指针则是一个实体。指针会分配内存空间，相当于一个专门用来保存地址的整型变量。取地址运算符 <code>&amp;</code> 用于获取对象的地址，而指针运算符 <code>*</code> 用于间接引用目标对象。</p>
</li>
<li><p>并非所有对象都能进行取地址操作，变量总是可寻址的。指针类型支持相等运算符，但不能做加减运算和类型转换。如果两个指针指向同一个地址，或者都为 nil，那么它们相等。</p>
</li>
<li><p>可通过 <code>unsafe.Pointer</code> 将指针转换为 uintptr 后进行加减运算，但可能会造成非法访问。<code>unsafe.Pointer</code> 类似于 C 语言中的 <code>void*</code>，可用来转换指针类型，它能安全地持有对象或对象成员，但 uintptr 不行。后者仅仅是一种特殊整型，并不引用目标对象，无法阻止垃圾回收器回收对象内存</p>
</li>
<li><p>指针没有专门指向成员的 <code>-&gt;</code> 运算符，统一使用 <code>.</code> 表达式</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">		name <span class="type">string</span></span><br><span class="line">		age  <span class="type">int</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	u := user&#123;</span><br><span class="line">		name: <span class="string">&quot;Jack&quot;</span>,</span><br><span class="line">		age:  <span class="number">10</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	p := &amp;u</span><br><span class="line">	<span class="built_in">println</span>(p.name, p.age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>零长度对象的地址是否相等和具体的实现相关，但是肯定不等于 nil。</li>
</ul>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>对复合类型（数组、切片、字典、结构体）变量初始化时，有一些语法限制：</p>
<ul>
<li>初始化表达式必须包含类型标签</li>
<li>左花括号必须在类型尾部，不能另起一行</li>
<li>多个成员初始值以逗号分隔</li>
<li>允许多行，但每行以逗号或者右花括号结束</li>
</ul>
<h3 id="流控制"><a href="#流控制" class="headerlink" title="流控制"></a>流控制</h3><p>if…else 中的条件表达式必须是布尔类型，可省略括号，<strong>且左花括号不能另起一行</strong>。比较特别的是对初始化语句的支持，可定义块局部变量（有效范围包含整个 if&#x2F;else 块）或执行初始化函数。</p>
<p>与 if 类似，switch 语句也用于选择执行，但具体使用的场景会有所不同。<strong>条件表达式支持非常量，这要比 C 更加灵活</strong>。switch 同样支持初始化语句，按照从上到下，从左到右的顺序匹配 case 执行。只有全部匹配失败时，才会执行 default 块。无须显式执行 break 语句，case 执行完毕后自动中断。如须贯通后续 case，须执行 fallthrough，但不再匹配后续条件表达式。注意，fallthrough 必须放在 case 块结尾，可使用 break 语句阻止。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a, b, c, x := <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> x &#123;</span><br><span class="line">	<span class="keyword">case</span> a, b:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;a | b&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> c:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;d&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;z&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> x := <span class="number">5</span>; x &#123;</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="built_in">println</span>(x)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">		x += <span class="number">10</span></span><br><span class="line">		<span class="built_in">println</span>(x)</span><br><span class="line">		<span class="keyword">fallthrough</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">		x += <span class="number">20</span></span><br><span class="line">		<span class="built_in">println</span>(x)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要注意，相邻的空 case 不构成多条件匹配，此时仅表示相应的 case 内容为空。另外，不能出现重复的 case 常量值。</p>
<p>有些时候，switch 还被用来替换 if 语句，<strong>被省略的 switch 条件表达式默认为 true，继而与 case 表达式结果匹配</strong>：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> x := <span class="number">5</span>; &#123;</span><br><span class="line">	<span class="keyword">case</span> x &gt; <span class="number">5</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> x &gt; <span class="number">0</span> &amp;&amp; x &lt;= <span class="number">5</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;b&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;z&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>仅有 for 一种循环语句，但是常用方式都支持。初始化语句仅被执行一次。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x &lt; <span class="number">10</span> &#123;</span><br><span class="line">    x++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可用 <code>for...range</code> 完成数据迭代，支持字符串、数组、数组指针、切片、字典、通道类型，返回索引、键值数据：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data := [<span class="number">3</span>]<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i, s := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="built_in">println</span>(i, s)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不同于 Python，在 Go 中没有相关接口实现自定义迭代类型，除非基础类型就是以上类型之一。</p>
<p>无论普通 for 循环，还是 range 迭代，其定义的局部变量都会重复使用。另外需要注意，range 会复制目标数据，受直接影响的是数组，可改用数组指针或切片类型。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i, x := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">			data[<span class="number">0</span>] += <span class="number">100</span></span><br><span class="line">			data[<span class="number">1</span>] += <span class="number">200</span></span><br><span class="line">			data[<span class="number">2</span>] += <span class="number">300</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		fmt.Printf(<span class="string">&quot;x: %d data: %d\n&quot;</span>, x, data[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i, x := <span class="keyword">range</span> data[:] &#123;</span><br><span class="line">		<span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">			data[<span class="number">0</span>] += <span class="number">100</span></span><br><span class="line">			data[<span class="number">1</span>] += <span class="number">200</span></span><br><span class="line">			data[<span class="number">2</span>] += <span class="number">300</span></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;x: %d data: %d\n&quot;</span>, x, data[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> ./range</span><br><span class="line">x: 10 data: 110</span><br><span class="line">x: 20 data: 220</span><br><span class="line">x: 30 data: 330</span><br><span class="line">x: 110 data: 210</span><br><span class="line">x: 420 data: 420</span><br><span class="line">x: 630 data: 630</span><br></pre></td></tr></table></figure>

<p>如果 range 目标表达式是函数调用，也仅被执行一次。</p>
<p>使用 goto 前，必须先定义标签，标签区分大小写，且未使用的标签会引发编译错误。且不能跳转到其他函数或者内层代码块内。和 goto 定点跳转不同，break、continue 用于中断代码块执行：</p>
<ul>
<li>break：用于 swtich、for、select 语句，终止整个语句块执行</li>
<li>continue：仅用于 for 循环，终止后续逻辑，立即进入下一轮循环</li>
</ul>
<p>配合标签，break 和 continue 可在多层嵌套中指定目标层级：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">outer:</span><br><span class="line">	<span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="number">5</span>; x++ &#123;</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;loop exec&quot;</span>, x)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> x &gt; <span class="number">2</span> &#123;</span><br><span class="line">			<span class="keyword">break</span> outer</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./break_label</span><br><span class="line">loop exec <span class="number">0</span></span><br><span class="line">loop exec <span class="number">1</span></span><br><span class="line">loop exec <span class="number">2</span></span><br><span class="line">loop exec <span class="number">3</span></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/fuchencong.github.io/tags/Go/" rel="tag"># Go</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/fuchencong.github.io/2021/04/26/learn-go-02/" rel="prev" title="Go 语言学习笔记（2）：函数与数据">
      <i class="fa fa-chevron-left"></i> Go 语言学习笔记（2）：函数与数据
    </a></div>
      <div class="post-nav-item">
    <a href="/fuchencong.github.io/2021/04/24/develop-tools-2/" rel="next" title="Screen 使用指南">
      Screen 使用指南 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Go-%E7%89%B9%E5%BE%81%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">Go 特征简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E8%AF%86-Go"><span class="nav-number">2.</span> <span class="nav-text">初识 Go</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E6%96%87%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">源文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">2.2.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">2.4.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE"><span class="nav-number">2.5.</span> <span class="nav-text">数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95"><span class="nav-number">2.6.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.7.</span> <span class="nav-text">接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91"><span class="nav-number">2.8.</span> <span class="nav-text">并发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.</span> <span class="nav-text">类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F-1"><span class="nav-number">3.1.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="nav-number">3.1.1.</span> <span class="nav-text">变量的定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="nav-number">3.1.2.</span> <span class="nav-text">多变量赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%AA%E4%BD%BF%E7%94%A8%E9%94%99%E8%AF%AF"><span class="nav-number">3.1.3.</span> <span class="nav-text">未使用错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%BD%E5%90%8D"><span class="nav-number">3.1.4.</span> <span class="nav-text">命名</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F"><span class="nav-number">3.2.</span> <span class="nav-text">常量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE"><span class="nav-number">3.2.1.</span> <span class="nav-text">枚举</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F%E5%B0%8F%E7%BB%93"><span class="nav-number">3.2.2.</span> <span class="nav-text">常量小结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.3.</span> <span class="nav-text">基本类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%AB%E5%90%8D"><span class="nav-number">3.3.1.</span> <span class="nav-text">别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.3.2.</span> <span class="nav-text">引用类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">3.3.3.</span> <span class="nav-text">类型转换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.4.</span> <span class="nav-text">自定义类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F-1"><span class="nav-number">4.</span> <span class="nav-text">表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%9D%E7%95%99%E5%AD%97"><span class="nav-number">4.1.</span> <span class="nav-text">保留字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">4.2.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">4.3.</span> <span class="nav-text">初始化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E6%8E%A7%E5%88%B6"><span class="nav-number">4.4.</span> <span class="nav-text">流控制</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="fuchencong"
      src="/fuchencong.github.io/images/logo.jpeg">
  <p class="site-author-name" itemprop="name">fuchencong</p>
  <div class="site-description" itemprop="description">Having dreams is what makes life tolerable.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/fuchencong.github.io/archives/">
        
          <span class="site-state-item-count">133</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/fuchencong.github.io/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/fuchencong.github.io/tags/">
          
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/fuchencong" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fuchencong" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fuchencong@163.com" title="E-Mail → mailto:fuchencong@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fuchencong</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/fuchencong.github.io/lib/anime.min.js"></script>
  <script src="/fuchencong.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/fuchencong.github.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/fuchencong.github.io/js/utils.js"></script>

<script src="/fuchencong.github.io/js/motion.js"></script>


<script src="/fuchencong.github.io/js/schemes/muse.js"></script>


<script src="/fuchencong.github.io/js/next-boot.js"></script>




  















  

  

</body>
</html>
